{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/verma/OneDrive/Desktop/Web Dev Adv/React/React/07-usepopcorn/starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/verma/OneDrive/Desktop/Web Dev Adv/React/React/07-usepopcorn/starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/verma/OneDrive/Desktop/Web Dev Adv/React/React/07-usepopcorn/starter/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/verma/OneDrive/Desktop/Web Dev Adv/React/React/07-usepopcorn/starter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import StarRating from\"./StarRating\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var average=function average(arr){return arr.reduce(function(acc,cur,i,arr){return acc+cur/arr.length;},0);};// const KEY = \"f608407f\";\nvar KEY=process.env.REACT_APP_OMDB_API_KEY;export default function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),selectedId=_useState10[0],setSelectedId=_useState10[1];// CORRECT CURRENTLY WORKING CODE IS IN App.js AFTER ALL CODE EXTRACTIONS:\n// const [watched, setWatched] = useState([]);\nvar _useState11=useState(function(){var storedValue=localStorage.getItem(\"watched\");return JSON.parse(storedValue);}),_useState12=_slicedToArray(_useState11,2),watched=_useState12[0],setWatched=_useState12[1];function handleSelectMovie(id){setSelectedId(function(selectedId){return id===selectedId?null:id;});}function handleCloseMovie(){setSelectedId(null);}function handleAddWatch(movie){setWatched(function(watched){return[].concat(_toConsumableArray(watched),[movie]);});}function handleDeleteWatch(id){setWatched(function(watched){return watched.filter(function(movie){return movie.imdbID!==id;});});}// below is the effect for local storage:\nuseEffect(function(){localStorage.setItem(\"watched\",JSON.stringify(watched));},[watched]);useEffect(function(){var controller=new AbortController();function fetchMovies(){return _fetchMovies.apply(this,arguments);}function _fetchMovies(){_fetchMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoading(true);setError(\"\");_context.next=5;return fetch(\"http://www.omdbapi.com/?apiKey=\".concat(KEY,\"&s=\").concat(query),{signal:controller.signal});case 5:res=_context.sent;if(res.ok){_context.next=8;break;}throw new Error(\"Something went wrong with fetching movies!\");case 8:_context.next=10;return res.json();case 10:data=_context.sent;if(!(data.Response===\"False\")){_context.next=13;break;}throw new Error(\"Movie not found !\");case 13:setMovies(data.Search);// console.log(movies);\nsetError(\"\");_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);// console.error(err.message);\nif(_context.t0.name!==\"AbortError\"){console.log(_context.t0.message);setError(_context.t0.message);}case 20:_context.prev=20;setIsLoading(false);return _context.finish(20);case 23:case\"end\":return _context.stop();}},_callee,null,[[0,17,20,23]]);}));return _fetchMovies.apply(this,arguments);}if(!query.length){setMovies([]);setError(\"\");return;}handleCloseMovie();fetchMovies();// here we just call the function\n// Cleanup function:\nreturn function(){controller.abort();};},[query]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NavBar,{children:[/*#__PURE__*/_jsx(Search,{query:query,setQuery:setQuery}),/*#__PURE__*/_jsx(NumResults,{movies:movies})]}),/*#__PURE__*/_jsxs(Main,{children:[/*#__PURE__*/_jsxs(Box,{children:[isLoading&&/*#__PURE__*/_jsx(Loader,{}),!isLoading&&!error&&/*#__PURE__*/_jsx(MovieList,{movies:movies,onSelectMovie:handleSelectMovie}),error&&/*#__PURE__*/_jsx(ErrorMessage,{message:error})]}),/*#__PURE__*/_jsx(Box,{children:selectedId?/*#__PURE__*/_jsx(MovieDetails,{selectedId:selectedId,onCloseMovie:handleCloseMovie,onAddWatched:handleAddWatch,watched:watched})// based on selectedId, we display the movie details on the right box of\n:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WatchedSummary,{watched:watched}),/*#__PURE__*/_jsx(WatchedMoviesList,{watched:watched,onDeleteWatched:handleDeleteWatch})]})// if no selectedId is false, i.e. there os no selected movie, we display this React Fragment\n})]})]});}function Loader(){return/*#__PURE__*/_jsx(\"p\",{className:\"loader\",children:\"Loading...\"});}function ErrorMessage(_ref){var message=_ref.message;return/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26D4\"}),\" \",message]});}function NavBar(_ref2){var children=_ref2.children;return/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(Logo,{}),children]});}function Logo(){return/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",children:\"\\uD83C\\uDF7F\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"usePopcorn\"})]});}function Search(_ref3){var query=_ref3.query,setQuery=_ref3.setQuery;var inputEl=useRef(null);useEffect(function(){function callback(e){if(document.activeElement===inputEl.current)return;if(e.code===\"Enter\"){inputEl.current.focus();setQuery(\"\");}}document.addEventListener(\"keydown\",callback);// Cleanup function:\nreturn function(){return document.addEventListener(\"keydown\",callback);};},[setQuery]);return/*#__PURE__*/_jsx(\"input\",{className:\"search\",type:\"text\",placeholder:\"Search movies...\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},ref:inputEl});}function NumResults(_ref4){var movies=_ref4.movies;return/*#__PURE__*/_jsxs(\"p\",{className:\"num-results\",children:[\"Found \",/*#__PURE__*/_jsx(\"strong\",{children:movies.length}),\" results\"]});}function Main(_ref5){var children=_ref5.children;return/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:children});}function Box(_ref6){var children=_ref6.children;var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),isOpen=_useState14[0],setIsOpen=_useState14[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-toggle\",onClick:function onClick(){return setIsOpen(function(open){return!open;});},children:isOpen?\"–\":\"+\"}),isOpen&&children]});}function MovieList(_ref7){var movies=_ref7.movies,onSelectMovie=_ref7.onSelectMovie;return/*#__PURE__*/_jsx(\"ul\",{className:\"list list-movies\",children:movies===null||movies===void 0?void 0:movies.map(function(movie){return/*#__PURE__*/_jsx(Movie,{movie:movie,onSelectMovie:onSelectMovie},movie.imdbID);})});}function Movie(_ref8){var movie=_ref8.movie,onSelectMovie=_ref8.onSelectMovie;return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return onSelectMovie(movie.imdbID);},children:[/*#__PURE__*/_jsx(\"img\",{src:movie.Poster,alt:\"\".concat(movie.Title,\" poster\")}),/*#__PURE__*/_jsx(\"h3\",{children:movie.Title}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDDD3\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.Year})]})})]});}function MovieDetails(_ref9){var _watched$find;var selectedId=_ref9.selectedId,onCloseMovie=_ref9.onCloseMovie,onAddWatched=_ref9.onAddWatched,watched=_ref9.watched;var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),movie=_useState16[0],setMovie=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoading=_useState18[0],setIsLoading=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),userRating=_useState20[0],setUserRating=_useState20[1];var countRef=useRef(0);useEffect(function(){if(userRating)countRef.current=countRef.current+1;},[userRating]);var isWatched=watched.map(function(movie){return movie.imdbID;}).includes(selectedId);var watchedUserRating=(_watched$find=watched.find(function(movie){return movie.imdbID===selectedId;}))===null||_watched$find===void 0?void 0:_watched$find.userRating;var title=movie.Title,year=movie.Year,poster=movie.Poster,runtime=movie.Runtime,imdbRating=movie.imdbRating,plot=movie.Plot,released=movie.Released,actors=movie.Actors,director=movie.Director,genre=movie.Genre;function handleAdd(){var newWatchedMovie={imdbID:selectedId,title:title,year:year,poster:poster,imdbRating:Number(imdbRating),runtime:Number(runtime.split(\" \").at(0)),userRating:userRating,countRatingDecisions:countRef.current};onAddWatched(newWatchedMovie);onCloseMovie();}useEffect(function(){function Callback(e){if(e.code===\"Escape\")onCloseMovie();}document.addEventListener(\"keydown\",Callback);return function(){document.removeEventListener(\"keydown\",Callback);};},[onCloseMovie]);useEffect(function(){function getMovieDetails(){return _getMovieDetails.apply(this,arguments);}function _getMovieDetails(){_getMovieDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setIsLoading(true);_context2.next=3;return fetch(\"http://www.omdbapi.com/?apiKey=\".concat(KEY,\"&i=\").concat(selectedId));case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;// console.log(data);\nsetMovie(data);setIsLoading(false);case 9:case\"end\":return _context2.stop();}},_callee2);}));return _getMovieDetails.apply(this,arguments);}getMovieDetails();},[selectedId]);useEffect(function(){if(!title)return;document.title=\"Movie | \".concat(title);return function(){document.title=\"usePopcorn\";};},[title]);return/*#__PURE__*/_jsx(\"div\",{className:\"details\",children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-back\",onClick:onCloseMovie,children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"img\",{src:poster,alt:\"Poster of \".concat(movie,\" movie\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-overview\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[released,\" \\u2022 \",runtime]}),/*#__PURE__*/_jsx(\"p\",{children:genre}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\"}),imdbRating,\" IMDB rating\"]})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:!isWatched?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StarRating,{maxRating:10,size:24,onSetRating:setUserRating}),userRating>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:handleAdd,children:\"+ Add to list\"})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"You rated this movie \",watchedUserRating,/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\"})]})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"em\",{children:plot})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Starring \",actors]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Directed by \",director]})]})]})});}function WatchedSummary(_ref10){var watched=_ref10.watched;var avgImdbRating=average(watched.map(function(movie){return movie.imdbRating;}));var avgUserRating=average(watched.map(function(movie){return movie.userRating;}));var avgRuntime=average(watched.map(function(movie){return movie.runtime;}));return/*#__PURE__*/_jsxs(\"div\",{className:\"summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Movies you watched\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"#\\uFE0F\\u20E3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[watched.length,\" movies\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:avgImdbRating.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDF1F\"}),/*#__PURE__*/_jsx(\"span\",{children:avgUserRating.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u23F3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[avgRuntime,\" min\"]})]})]})]});}function WatchedMoviesList(_ref11){var watched=_ref11.watched,onDeleteWatched=_ref11.onDeleteWatched;return/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:watched.map(function(movie){return/*#__PURE__*/_jsx(WatchedMovie,{movie:movie,onDeleteWatched:onDeleteWatched},movie.imdbID);})});}function WatchedMovie(_ref12){var movie=_ref12.movie,onDeleteWatched=_ref12.onDeleteWatched;return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:\"\".concat(movie.title,\" poster\")}),/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2B50\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.imdbRating})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDF1F\"}),/*#__PURE__*/_jsx(\"span\",{children:movie.userRating})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u23F3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[movie.runtime,\" min\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete\",onClick:function onClick(){return onDeleteWatched(movie.imdbID);}})]})]});}","map":{"version":3,"names":["useEffect","useRef","useState","StarRating","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","average","arr","reduce","acc","cur","i","length","KEY","process","env","REACT_APP_OMDB_API_KEY","App","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","movies","setMovies","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","error","setError","_useState9","_useState10","selectedId","setSelectedId","_useState11","storedValue","localStorage","getItem","JSON","parse","_useState12","watched","setWatched","handleSelectMovie","id","handleCloseMovie","handleAddWatch","movie","concat","_toConsumableArray","handleDeleteWatch","filter","imdbID","setItem","stringify","controller","AbortController","fetchMovies","_fetchMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","fetch","signal","sent","ok","Error","json","Response","Search","t0","name","console","log","message","finish","stop","abort","children","NavBar","NumResults","Main","Box","Loader","MovieList","onSelectMovie","ErrorMessage","MovieDetails","onCloseMovie","onAddWatched","WatchedSummary","WatchedMoviesList","onDeleteWatched","className","_ref","_ref2","Logo","role","_ref3","inputEl","callback","e","document","activeElement","current","code","focus","addEventListener","type","placeholder","value","onChange","target","ref","_ref4","_ref5","_ref6","_useState13","_useState14","isOpen","setIsOpen","onClick","open","_ref7","map","Movie","_ref8","src","Poster","alt","Title","Year","_ref9","_watched$find","_useState15","_useState16","setMovie","_useState17","_useState18","_useState19","_useState20","userRating","setUserRating","countRef","isWatched","includes","watchedUserRating","find","title","year","poster","runtime","Runtime","imdbRating","plot","Plot","released","Released","actors","Actors","director","Director","genre","Genre","handleAdd","newWatchedMovie","Number","split","at","countRatingDecisions","Callback","removeEventListener","getMovieDetails","_getMovieDetails","_callee2","_callee2$","_context2","maxRating","size","onSetRating","_ref10","avgImdbRating","avgUserRating","avgRuntime","toFixed","_ref11","WatchedMovie","_ref12"],"sources":["C:/Users/verma/OneDrive/Desktop/Web Dev Adv/React/React/07-usepopcorn/starter/src/App-v4.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport StarRating from \"./StarRating\";\n\nconst average = (arr) =>\n  arr.reduce((acc, cur, i, arr) => acc + cur / arr.length, 0);\n\n// const KEY = \"f608407f\";\nconst KEY = process.env.REACT_APP_OMDB_API_KEY;\n\nexport default function App() {\n  const [query, setQuery] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n\n  // CORRECT CURRENTLY WORKING CODE IS IN App.js AFTER ALL CODE EXTRACTIONS:\n\n  // const [watched, setWatched] = useState([]);\n  const [watched, setWatched] = useState(function () {\n    const storedValue = localStorage.getItem(\"watched\");\n    return JSON.parse(storedValue);\n  });\n\n  function handleSelectMovie(id) {\n    setSelectedId((selectedId) => (id === selectedId ? null : id));\n  }\n\n  function handleCloseMovie() {\n    setSelectedId(null);\n  }\n\n  function handleAddWatch(movie) {\n    setWatched((watched) => [...watched, movie]);\n  }\n\n  function handleDeleteWatch(id) {\n    setWatched((watched) => watched.filter((movie) => movie.imdbID !== id));\n  }\n\n  // below is the effect for local storage:\n  useEffect(\n    function () {\n      localStorage.setItem(\"watched\", JSON.stringify(watched));\n    },\n    [watched]\n  );\n\n  useEffect(\n    function () {\n      const controller = new AbortController();\n\n      async function fetchMovies() {\n        try {\n          setIsLoading(true);\n\n          setError(\"\");\n\n          const res = await fetch(\n            `http://www.omdbapi.com/?apiKey=${KEY}&s=${query}`,\n            { signal: controller.signal }\n          );\n\n          if (!res.ok)\n            throw new Error(\"Something went wrong with fetching movies!\");\n\n          const data = await res.json();\n          // console.log(data);\n\n          if (data.Response === \"False\") throw new Error(\"Movie not found !\");\n\n          setMovies(data.Search);\n          // console.log(movies);\n\n          setError(\"\");\n        } catch (err) {\n          // console.error(err.message);\n\n          if (err.name !== \"AbortError\") {\n            console.log(err.message);\n            setError(err.message);\n          }\n        } finally {\n          setIsLoading(false);\n        }\n      }\n\n      if (!query.length) {\n        setMovies([]);\n        setError(\"\");\n        return;\n      }\n\n      handleCloseMovie();\n      fetchMovies(); // here we just call the function\n\n      // Cleanup function:\n      return function () {\n        controller.abort();\n      };\n    },\n    [query]\n  );\n\n  return (\n    <>\n      <NavBar>\n        <Search query={query} setQuery={setQuery} />\n        <NumResults movies={movies} />\n      </NavBar>\n      <Main>\n        <Box>\n          {isLoading && <Loader />}\n          {!isLoading && !error && (\n            <MovieList movies={movies} onSelectMovie={handleSelectMovie} />\n          )}\n          {error && <ErrorMessage message={error} />}\n        </Box>\n\n        <Box>\n          {selectedId ? (\n            <MovieDetails\n              selectedId={selectedId}\n              onCloseMovie={handleCloseMovie}\n              onAddWatched={handleAddWatch}\n              watched={watched}\n            /> // based on selectedId, we display the movie details on the right box of\n          ) : (\n            <>\n              <WatchedSummary watched={watched} />\n              <WatchedMoviesList\n                watched={watched}\n                onDeleteWatched={handleDeleteWatch}\n              />\n            </> // if no selectedId is false, i.e. there os no selected movie, we display this React Fragment\n          )}\n        </Box>\n      </Main>\n    </>\n  );\n}\n\nfunction Loader() {\n  return <p className=\"loader\">Loading...</p>;\n}\n\nfunction ErrorMessage({ message }) {\n  return (\n    <p className=\"error\">\n      <span>⛔</span> {message}\n    </p>\n  );\n}\n\nfunction NavBar({ children }) {\n  return (\n    <nav className=\"nav-bar\">\n      <Logo />\n      {children}\n    </nav>\n  );\n}\n\nfunction Logo() {\n  return (\n    <div className=\"logo\">\n      <span role=\"img\">🍿</span>\n      <h1>usePopcorn</h1>\n    </div>\n  );\n}\n\nfunction Search({ query, setQuery }) {\n  const inputEl = useRef(null);\n\n  useEffect(\n    function () {\n      function callback(e) {\n        if (document.activeElement === inputEl.current) return;\n\n        if (e.code === \"Enter\") {\n          inputEl.current.focus();\n          setQuery(\"\");\n        }\n      }\n\n      document.addEventListener(\"keydown\", callback);\n\n      // Cleanup function:\n      return () => document.addEventListener(\"keydown\", callback);\n    },\n    [setQuery]\n  );\n\n  return (\n    <input\n      className=\"search\"\n      type=\"text\"\n      placeholder=\"Search movies...\"\n      value={query}\n      onChange={(e) => setQuery(e.target.value)}\n      ref={inputEl}\n    />\n  );\n}\n\nfunction NumResults({ movies }) {\n  return (\n    <p className=\"num-results\">\n      Found <strong>{movies.length}</strong> results\n    </p>\n  );\n}\n\nfunction Main({ children }) {\n  return <main className=\"main\">{children}</main>;\n}\n\nfunction Box({ children }) {\n  const [isOpen, setIsOpen] = useState(true);\n\n  return (\n    <div className=\"box\">\n      <button className=\"btn-toggle\" onClick={() => setIsOpen((open) => !open)}>\n        {isOpen ? \"–\" : \"+\"}\n      </button>\n      {isOpen && children}\n    </div>\n  );\n}\n\nfunction MovieList({ movies, onSelectMovie }) {\n  return (\n    <ul className=\"list list-movies\">\n      {movies?.map((movie) => (\n        <Movie movie={movie} key={movie.imdbID} onSelectMovie={onSelectMovie} />\n      ))}\n    </ul>\n  );\n}\n\nfunction Movie({ movie, onSelectMovie }) {\n  return (\n    <li onClick={() => onSelectMovie(movie.imdbID)}>\n      <img src={movie.Poster} alt={`${movie.Title} poster`} />\n      <h3>{movie.Title}</h3>\n      <div>\n        <p>\n          <span>🗓</span>\n          <span>{movie.Year}</span>\n        </p>\n      </div>\n    </li>\n  );\n}\n\nfunction MovieDetails({ selectedId, onCloseMovie, onAddWatched, watched }) {\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [userRating, setUserRating] = useState(\"\");\n\n  const countRef = useRef(0);\n\n  useEffect(\n    function () {\n      if (userRating) countRef.current = countRef.current + 1;\n    },\n    [userRating]\n  );\n\n  const isWatched = watched.map((movie) => movie.imdbID).includes(selectedId);\n\n  const watchedUserRating = watched.find(\n    (movie) => movie.imdbID === selectedId\n  )?.userRating;\n\n  const {\n    Title: title,\n    Year: year,\n    Poster: poster,\n    Runtime: runtime,\n    imdbRating,\n    Plot: plot,\n    Released: released,\n    Actors: actors,\n    Director: director,\n    Genre: genre,\n  } = movie;\n\n  function handleAdd() {\n    const newWatchedMovie = {\n      imdbID: selectedId,\n      title,\n      year,\n      poster,\n      imdbRating: Number(imdbRating),\n      runtime: Number(runtime.split(\" \").at(0)),\n      userRating,\n      countRatingDecisions: countRef.current,\n    };\n    onAddWatched(newWatchedMovie);\n    onCloseMovie();\n  }\n\n  useEffect(\n    function () {\n      function Callback(e) {\n        if (e.code === \"Escape\") onCloseMovie();\n      }\n\n      document.addEventListener(\"keydown\", Callback);\n\n      return function () {\n        document.removeEventListener(\"keydown\", Callback);\n      };\n    },\n    [onCloseMovie]\n  );\n\n  useEffect(\n    function () {\n      async function getMovieDetails() {\n        setIsLoading(true);\n        const res = await fetch(\n          `http://www.omdbapi.com/?apiKey=${KEY}&i=${selectedId}`\n        );\n\n        const data = await res.json();\n        // console.log(data);\n        setMovie(data);\n        setIsLoading(false);\n      }\n      getMovieDetails();\n    },\n    [selectedId]\n  );\n\n  useEffect(\n    function () {\n      if (!title) return;\n      document.title = `Movie | ${title}`;\n\n      return function () {\n        document.title = \"usePopcorn\";\n      };\n    },\n    [title]\n  );\n\n  return (\n    <div className=\"details\">\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <header>\n            <button className=\"btn-back\" onClick={onCloseMovie}>\n              &larr;\n            </button>\n            <img src={poster} alt={`Poster of ${movie} movie`} />\n            <div className=\"details-overview\">\n              <h2>{title}</h2>\n              <p>\n                {released} &bull; {runtime}\n              </p>\n              <p>{genre}</p>\n              <p>\n                <span>⭐</span>\n                {imdbRating} IMDB rating\n              </p>\n            </div>\n          </header>\n\n          <section>\n            <div className=\"rating\">\n              {!isWatched ? (\n                <>\n                  <StarRating\n                    maxRating={10}\n                    size={24}\n                    onSetRating={setUserRating}\n                  />\n\n                  {userRating > 0 && (\n                    <button className=\"btn-add\" onClick={handleAdd}>\n                      + Add to list\n                    </button>\n                  )}\n                </>\n              ) : (\n                <p>\n                  You rated this movie {watchedUserRating}\n                  <span>⭐</span>\n                </p>\n              )}\n            </div>\n            <p>\n              <em>{plot}</em>\n            </p>\n            <p>Starring {actors}</p>\n            <p>Directed by {director}</p>\n          </section>\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction WatchedSummary({ watched }) {\n  const avgImdbRating = average(watched.map((movie) => movie.imdbRating));\n  const avgUserRating = average(watched.map((movie) => movie.userRating));\n  const avgRuntime = average(watched.map((movie) => movie.runtime));\n\n  return (\n    <div className=\"summary\">\n      <h2>Movies you watched</h2>\n      <div>\n        <p>\n          <span>#️⃣</span>\n          <span>{watched.length} movies</span>\n        </p>\n        <p>\n          <span>⭐️</span>\n          <span>{avgImdbRating.toFixed(2)}</span>\n        </p>\n        <p>\n          <span>🌟</span>\n          <span>{avgUserRating.toFixed(2)}</span>\n        </p>\n        <p>\n          <span>⏳</span>\n          <span>{avgRuntime} min</span>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction WatchedMoviesList({ watched, onDeleteWatched }) {\n  return (\n    <ul className=\"list\">\n      {watched.map((movie) => (\n        <WatchedMovie\n          movie={movie}\n          key={movie.imdbID}\n          onDeleteWatched={onDeleteWatched}\n        />\n      ))}\n    </ul>\n  );\n}\n\nfunction WatchedMovie({ movie, onDeleteWatched }) {\n  return (\n    <li>\n      <img src={movie.poster} alt={`${movie.title} poster`} />\n      <h3>{movie.title}</h3>\n      <div>\n        <p>\n          <span>⭐️</span>\n          <span>{movie.imdbRating}</span>\n        </p>\n        <p>\n          <span>🌟</span>\n          <span>{movie.userRating}</span>\n        </p>\n        <p>\n          <span>⏳</span>\n          <span>{movie.runtime} min</span>\n        </p>\n\n        <button\n          className=\"btn-delete\"\n          onClick={() => onDeleteWatched(movie.imdbID)}\n        ></button>\n      </div>\n    </li>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}